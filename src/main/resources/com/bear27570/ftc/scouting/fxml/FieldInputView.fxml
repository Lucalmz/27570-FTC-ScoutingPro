<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.canvas.Canvas?>

<BorderPane style="-fx-background-color: #1C2533;" stylesheets="@../styles/style.css" xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.bear27570.ftc.scouting.controllers.FieldInputController">
    <center>
        <StackPane fx:id="inputPane" style="-fx-border-color: #4A5C70; -fx-border-width: 2;">
            <ImageView fx:id="fieldImageView" fitHeight="600" fitWidth="600" preserveRatio="true">
                <image>
                    <Image url="@../images/field.png"/>
                </image>
            </ImageView>
            <Canvas fx:id="drawCanvas" height="600" width="600" onMouseClicked="#handleCanvasClick"/>
        </StackPane>
    </center>
    <right>
        <VBox spacing="15" alignment="CENTER" prefWidth="160" style="-fx-background-color: #2A3B4F;">
            <padding><Insets top="20" right="10" bottom="20" left="10"/></padding>

            <!-- 新增：队伍选择 (仅在联盟模式显示) -->
            <VBox fx:id="teamSelectBox" spacing="5" alignment="CENTER">
                <Label text="Active Team" styleClass="sub-header-label"/>
                <ToggleButton fx:id="team1Btn" text="Team 1" prefWidth="120" selected="true" style="-fx-base: #00BCD4;"/>
                <ToggleButton fx:id="team2Btn" text="Team 2" prefWidth="120" style="-fx-base: #E91E63;"/>
                <Separator/>
            </VBox>

            <Label text="Input Mode" styleClass="sub-header-label"/>
            <ToggleButton fx:id="addModeBtn" text="Add (+)" prefWidth="120" selected="true"/>
            <ToggleButton fx:id="removeModeBtn" text="Remove (-)" prefWidth="120"/>

            <Separator/>
            <Label text="Current Count:" style="-fx-text-fill: #E0E0E0;"/>
            <Label fx:id="countLabel" text="0" style="-fx-font-size: 36px; -fx-text-fill: white; -fx-font-weight: bold;"/>
            <HBox alignment="CENTER" spacing="5">
                <Label text="T1:" textFill="#00BCD4"/><Label fx:id="countT1Label" text="0" textFill="#00BCD4"/>
                <Label text="T2:" textFill="#E91E63"/><Label fx:id="countT2Label" text="0" textFill="#E91E63"/>
            </HBox>

            <Region VBox.vgrow="ALWAYS"/>
            <Button onAction="#handleClear" text="Clear All" styleClass="logout-button"/>
            <Button onAction="#handleConfirm" text="Confirm" prefWidth="120" styleClass="submit-button"/>
        </VBox>
    </right>
</BorderPane>